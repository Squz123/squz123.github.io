<!DOCTYPE html>
<html>
<body>
  <h1>PDF文件列表</h1>
  <ul id="pdf-list"></ul>

  <script>
    // 修正后的代码（仍然受限于GitHub限制）
    fetch('./pdfs/')
      .then(r => r.text())
      .then(t => {
        const files = [...t.matchAll(/href="(.*?\.pdf)"/g)]
        files.forEach(f => {
          const li = document.createElement('li')
          li.innerHTML = `<a href="./pdfs/${f[1]}" target="_blank">${f[1]}</a>`
          document.getElementById('pdf-list').appendChild(li)
        })
      })
      .catch(e => {
        console.error('错误：服务器禁止目录访问，推荐改用方案B', e)
        document.getElementById('pdf-list').innerHTML = `
          <li>⚠️ 自动列表功能不可用，请<a href="https://github.com/squiz123/squiz123.github.io">直接访问仓库</a>查看PDF文件</li>
        `
      })
  </script>
</body>
</html>
